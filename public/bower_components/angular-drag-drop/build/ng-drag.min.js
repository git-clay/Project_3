angular.module("angular-drag-drop",[]),angular.module("angular-drag-drop").directive("ngDrag",["DragData","$timeout",function(a,b){"use strict";return{restrict:"A",link:function(c,d,e){d.attr("draggable","true"),e.ngDragend&&d.on("dragend",function(a){b(function(){c.$eval(e.ngDragend,{$event:a})})}),d.on("dragstart",function(d){var f,g=d.originalEvent||d;try{f=g.dataTransfer.getData("ngdrag/type")}catch(d){console.log(d)}f||(g.dataTransfer.setData("ngdrag/type",e.ngDrag||"ngdrag/id"),g.dataTransfer.setData(e.ngDrag||"ngdrag/id",c.$id)),a.add(c),e.ngDragstart&&b(function(){c.$eval(e.ngDragstart,{$event:d})})})}}}]),angular.module("angular-drag-drop").directive("ngDragenter",["$timeout",function(a){"use strict";return{restrict:"A",link:function(b,c,d){c.on("dragenter",function(c){a(function(){b.$eval(d.ngDragenter,{$event:c})})})}}}]).directive("ngDragleave",["$timeout",function(a){"use strict";return{restrict:"A",link:function(b,c,d){c.on("dragleave",function(e){e.target===c[0]&&e.stopPropagation(),a(function(){b.$eval(d.ngDragleave,{$event:e})})})}}}]),angular.module("angular-drag-drop").directive("ngDrop",["DragData",function(a){"use strict";return{restrict:"A",link:function(b,c,d){c.on("dragover",function(a){a.preventDefault(),d.ngDragover&&b.$apply(function(){b.$eval(d.ngDragover,{$event:a})})}),c.on("dragenter",function(a){a.preventDefault();var b=(a.originalEvent||a).dataTransfer.getData("ngdrag/type");b===d.allowDrop?event.dataTransfer.dropEffect="move":event.dataTransfer.dropEffect="none"}),c.on("drop",function(c){c.preventDefault();var e=(c.originalEvent||c).dataTransfer.getData(d.allowDrop||"ngdrag/id");if(e){var f=a.get(e);b.$apply(function(){b.$eval(d.ngDrop,{$from:f,$event:c})})}})}}}]),angular.module("angular-drag-drop").service("DragData",function(){var a={};this.add=function(b){b.$id&&(a[b.$id]=b,b.$on("$destroy",function(){delete a[b.$id]}))},this.get=function(b){return a[b]?a[b]:void 0}});